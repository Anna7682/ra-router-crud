(this["webpackJsonpra-hw"]=this["webpackJsonpra-hw"]||[]).push([[0],{70:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(9),s=n.n(a),i=(n(70),n(25)),o=n(17),d=n(19),j=n(11),l=n(51),u=n(57);function b(e){return h.apply(this,arguments)}function h(){return(h=Object(u.a)(Object(l.a)().mark((function e(t){var n,c,r,a,s,i,o,d;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,c=t.method,r=t.content,a=t.id,s="https://vpanov-ra-router-crud-backend.herokuapp.com/",i="DELETE"===c?s+n+"".concat(a):s+n,e.next=5,fetch(i,{method:c,headers:new Headers({"content-type":"application/json"}),body:r?JSON.stringify({id:a,content:r}):null});case 5:if((o=e.sent).ok){e.next=8;break}throw new Error("Request error");case 8:if(200!==o.status){e.next=14;break}return e.next=11,o.json();case 11:e.t0=e.sent,e.next=15;break;case 14:e.t0=null;case 15:return d=e.t0,e.abrupt("return",d);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=n(118),p=n(2);function x(e){var t=e.basURL;return Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"btn-holder",children:Object(p.jsx)(d.b,{to:t+"/posts/new",children:Object(p.jsx)(O.a,{variant:"contained",color:"primary",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442"})})})})}var f=n(60);function m(){return Object(p.jsx)("div",{children:Object(p.jsx)(f.ThreeDots,{})})}var v=n(28),y=n.n(v);n(49);function N(e){var t=e.item,n=e.onPostClickHandler,c=Object(j.f)(),r=t.id,a=t.content,s=t.created;return Object(p.jsxs)("div",{className:"card",style:{cursor:"pointer"},onClick:function(){return n({id:r,history:c})},children:[Object(p.jsx)("span",{className:"card_time",children:y()(s).fromNow()}),Object(p.jsx)("span",{className:"card_content",children:a})]})}function w(e){var t=e.posts,n=e.onPostClickHandler;return Object(p.jsx)("ul",{className:"",children:t.map((function(e){return Object(p.jsx)(N,{item:e,onPostClickHandler:n},e.id)}))})}var k=n(117),S=n(32),C=n.n(S);function g(e){var t=e.onNewPostSubmitHandler,n=e.basURL,r=Object(c.useState)(""),a=Object(o.a)(r,2),s=a[0],i=a[1],l=Object(j.f)();return Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("div",{className:"head-holder",children:Object(p.jsx)(d.b,{to:n+"/",children:Object(p.jsx)(C.a,{style:{cursor:"pointer"}})})}),Object(p.jsxs)("form",{className:"new-post-input",noValidate:!0,autoComplete:"off",onSubmit:function(e){t({event:e,post:s,history:l}),i("")},children:[Object(p.jsx)(k.a,{value:s,onInput:function(e){return i(e.target.value)},id:"outlined-basic",label:"\u041d\u043e\u0432\u0430\u044f \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f",variant:"outlined",style:{width:"100%"}}),Object(p.jsx)("div",{className:"btn-holder",children:Object(p.jsx)(O.a,{variant:"contained",color:"primary",type:"submit",children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})})]})]})}var L=r.a.createContext([]);function H(e){var t=e.match,n=e.onDeleteHandler,c=e.basURL,r=Object(j.f)(),a=t.params.id;return Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("div",{className:"head-holder",children:Object(p.jsx)(d.b,{to:c+"/",children:Object(p.jsx)(C.a,{style:{cursor:"pointer"}})})}),Object(p.jsx)(L.Consumer,{children:function(e){var t=e.find((function(e){return e.id===a})),n=t.created,c=t.content;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"card_time",children:y()(n).fromNow()}),Object(p.jsx)("span",{className:"card_content",children:c})]})}}),Object(p.jsxs)("div",{className:"btn-holder",children:[Object(p.jsx)(d.b,{to:c+"/posts/edit/".concat(a),children:Object(p.jsx)(O.a,{variant:"contained",color:"primary",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})}),"\xa0",Object(p.jsx)(O.a,{variant:"contained",color:"secondary",onClick:function(){return n({id:a,history:r})},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})}function P(e){var t=e.match,n=e.onSaveHandler,r=e.basURL,a=Object(c.useState)(""),s=Object(o.a)(a,2),i=s[0],l=s[1],u=Object(j.f)(),b=t.params.id;return Object(p.jsxs)("div",{className:"card",children:[Object(p.jsxs)("div",{className:"head-holder",children:[Object(p.jsx)("span",{className:"post-editor_header",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044e"}),Object(p.jsx)(d.b,{to:r+"/",children:Object(p.jsx)(C.a,{style:{cursor:"pointer"}})})]}),Object(p.jsx)(L.Consumer,{children:function(e){var t=e.find((function(e){return e.id===b})),c=t.created,r=t.content;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"card_time",children:y()(c).fromNow()}),Object(p.jsxs)("form",{className:"new-post-input",noValidate:!0,autoComplete:"off",onSubmit:function(e){n({event:e,id:b,post:i,history:u}),l("")},children:[Object(p.jsx)(k.a,{defaultValue:r,onInput:function(e){return l(e.target.value)},id:"outlined-basic",label:"",variant:"outlined",style:{width:"100%"}}),Object(p.jsx)("div",{className:"btn-holder",children:Object(p.jsx)(O.a,{variant:"contained",color:"primary",type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})}})]})}function E(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(o.a)(a,2),l=s[0],u=s[1],h="/ra-router-crud",O=function(){u(!0),b({query:"posts",method:"GET"}).then((function(e){r(e),u(!1)}))},f=function(e){var t=e.id;e.history.push(h+"/posts/".concat(t))},v=function(e){var t=e.event,n=e.post,c=e.history;t.preventDefault(),n&&b({query:"posts",method:"POST",content:n}),c.push(h+"/"),O()},y=function(e){var t=e.id,n=e.history;t&&b({query:"posts/",method:"DELETE",id:t}),n.push(h+"/"),O()},N=function(e){var t=e.event,n=e.id,c=e.post,r=e.history;t.preventDefault(),c&&b({query:"posts",method:"POST",content:c,id:n}),r.push(h+"/"),O()};return Object(c.useEffect)((function(){O()}),[]),Object(p.jsx)(d.a,{children:Object(p.jsx)(L.Provider,{value:n,children:Object(p.jsx)("div",{className:"wrapper>",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(x,{basURL:h}),l&&Object(p.jsx)(m,{}),Object(p.jsxs)(j.c,{children:[n.length&&Object(p.jsx)(j.a,{path:h+"/",exact:!0,render:function(e){return Object(p.jsx)(w,Object(i.a)(Object(i.a)({},e),{},{posts:n,onPostClickHandler:f}))}}),Object(p.jsx)(j.a,{path:h+"/posts/new",exact:!0,render:function(e){return Object(p.jsx)(g,Object(i.a)(Object(i.a)({},e),{},{onNewPostSubmitHandler:v,basURL:h}))}}),Object(p.jsx)(j.a,{path:h+"/posts/:id",exact:!0,render:function(e){return Object(p.jsx)(H,Object(i.a)(Object(i.a)({},e),{},{onDeleteHandler:y,basURL:h}))}}),Object(p.jsx)(j.a,{path:h+"/posts/edit/:id",exact:!0,render:function(e){return Object(p.jsx)(P,Object(i.a)(Object(i.a)({},e),{},{onSaveHandler:N,basURL:h}))}})]})]})})})})}var R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,120)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(E,{})}),document.getElementById("root")),R()}},[[86,1,2]]]);
//# sourceMappingURL=main.567ae063.chunk.js.map